<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>boxsharp: a responsive lightbox pop-up window with CSS3 and vanilla JavaScript</title>
    <link rel="author" href="https://hunyadi.info.hu/levente">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/styles/default.min.css">
    <style>
        body {
            background-color: #eee;
            font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;
        }

        img {
            border: 1px solid darkgray;
            border-radius: 1em;
        }

        .hyperlink {
            color: -webkit-link;
            cursor: pointer;
            text-decoration: underline;
        }
    </style>
    <script defer src="boxsharp/boxsharp.min.js" type="module"></script>
    <script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/highlight.min.js"></script>
    <script defer type="module">
        import { BoxsharpCollection } from "./boxsharp/boxsharp.min.js";
        document.addEventListener("DOMContentLoaded", () => {
            document.querySelectorAll("div.example").forEach(div => {
                const pre = document.createElement("pre");
                const code = document.createElement("code");
                code.className = "language-html";
                code.textContent = div.innerHTML;
                code.textContent = code.textContent.replace(/^\s*/gm, "");
                pre.append(code);
                div.after(pre);
            });
            hljs.highlightAll();

            BoxsharpCollection.scan();
        });
    </script>
</head>

<body>
    <h1>boxsharp: a responsive lightbox pop-up window</h1>

    <p><a href="https://hunyadi.info.hu/projects/boxsharp/">Demo page</a> | <a href="https://github.com/hunyadi/boxsharp/">Project page</a></p>

    <h2>Features</h2>

    <ul>
        <li><strong>Modern browser support.</strong><br>Works seamlessly in Chrome, Edge, Firefox, and Safari.</li>
        <li><strong>Versatile content display.</strong><br>Handles images, videos, PDFs, external pages (via iframes), and more.</li>
        <li><strong>Custom captions.</strong><br>Add description to each item using plain text or HTML tags.</li>
        <li><strong>Flexible navigation.</strong><br>Navigate using buttons, keyboard (left/right arrows), mouse, or swipe gestures.</li>
        <li><strong>Interactive image handling.</strong><br>Expand large images and pan by dragging.</li>
        <li><strong>Quick navigation bar.</strong><br>Jump directly to any item with a fast-access navigation bar.</li>
        <li><strong>Optimized image loading.</strong><br>Automatically selects the smallest image that fills the viewport.</li>
        <li><strong>Responsive design.</strong><br>Oversized content is scaled down to fit the browser window.</li>
        <li><strong>Easy integration.</strong><br>Includes a simple API and ready-to-use code snippets for fast setup.</li>
        <li><strong>Lightweight.</strong><br>Minimal network load for faster performance.</li>
        <li><strong>No dependencies.</strong><br>Built with 100% CSS and pure JavaScript (ES2020, Web Components); no third-party libraries required.</li>
    </ul>

    <h2>How to use</h2>

    <h3>Prerequisites for production</h3>

    <ol>
        <li>Copy <a href="boxsharp/boxsharp.min.js" download="boxsharp.min.js">boxsharp.min.js</a> to your web server.</li>
        <li>Add the following to the <code>&lt;head&gt;</code> section of your HTML (using the appropriate location):<br>
            <pre>&lt;script defer src="path/to/boxsharp.min.js" type="module"&gt;&lt;/script&gt;</pre>
        </li>
        <li>Proceed with <em>modern</em> or <em>classic</em> syntax.</li>
    </ol>

    <h3>Prerequisites for debug mode</h3>

    <ol>
        <li>Copy <a href="boxsharp/boxsharp.css" download="boxsharp.css">boxsharp.css</a> and <a href="boxsharp/boxsharp.js"
                download="boxsharp.js">boxsharp.js</a> to your web server.</li>
        <li>Add the following to the <code>&lt;head&gt;</code> section of your HTML (using the appropriate location):<br>
            <pre>&lt;script defer src="path/to/boxsharp.js" type="module"&gt;&lt;/script&gt;</pre>
        </li>
        <li>Proceed with <em>modern</em> or <em>classic</em> syntax.</li>
    </ol>

    <h3>Modern syntax</h3>

    <p>boxsharp is implemented as a <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_components">web component</a>. You can utilize the element
        <code>&lt;boxsharp-link&gt;</code> to make text or an image open a pop-up window.
    </p>

    <ol>
        <li>Find the image that you want to trigger a pop-up window when clicked.</li>
        <li>Wrap the image in a <code>&lt;boxsharp-link&gt;</code> element.</li>
        <li>Set the attribute <code>srcset</code> on the <code>&lt;img&gt;</code> element to a series of images using the syntax for <a
                href="https://developer.mozilla.org/en-US/docs/Web/HTML/Guides/Responsive_images#resolution_switching_different_sizes">resolution switching
                with different sizes</a>.</li>
    </ol>

    <h3>Classic syntax</h3>

    <ol>
        <li>Ensure you have the initializer in the <code>&lt;head&gt;</code> section of your HTML (using the appropriate location):<br>
            <pre>
&lt;script defer type="module"&gt;
    import { BoxsharpCollection } from "./path/to/boxsharp.js";
    document.addEventListener("DOMContentLoaded", () => {
        BoxsharpCollection.scan();
    });
&lt;/script&gt;
</pre>
        </li>
        <li>Find the text or thumbnail image that you want to trigger a pop-up window when clicked.</li>
        <li>Wrap the text or image in an <code>&lt;a&gt;</code> element.</li>
        <li>Add the attribute <code>rel</code> with the value <code>boxsharp</code>.</li>
        <li>Set the attribute <code>data-srcset</code> on the <code>&lt;a&gt;</code> element to a series of images using the syntax for <a
                href="https://developer.mozilla.org/en-US/docs/Web/HTML/Guides/Responsive_images#resolution_switching_different_sizes">resolution switching
                with different sizes</a>.</li>
    </ol>

    <h2>How it works</h2>

    <p>When the pop-up window opens, it reads the <code>data-srcset</code> or the <code>srcset</code> attribute, and configures the <code>srcset</code> and
        <code>sizes</code> attributes of an <code>&lt;img&gt;</code> element in the lightbox pop-up window accordingly, ensuring the browser chooses the optimal
        image given the current window size. Captions are extracted from the <code>alt</code> or <code>title</code> attribute, or a
        <code>&lt;figcaption&gt;</code> of an encapsulating or encapsulated <code>&lt;figure&gt;</code> element. Items that are grouped into a collection form a
        navigable set.
    </p>

    <h2>Examples</h2>

    <h3>Display a single image</h3>

    <p>This example uses the web component syntax to activate a pop-up window when the user clicks a thumbnail image. Information on which image to show for
        what screen size is extracted from the <code>srcset</code> attribute of the <code>&lt;img&gt;</code> element. Note the use of <code>sizes</code>, which
        ensures that the browser doesn't load a high-resolution image for the thumbnail itself. Click the expand icon in the top right corner of the pop-up
        window to display the largest image in the source set, press and hold the mouse button, and move the mouse to pan the image.
    </p>

    <div class="example">
        <boxsharp-link>
            <img alt="A small image" src="https://placehold.co/300x200/CD2A3E/FFFFFF.png" width="75" height="50" sizes="75px"
                srcset="https://placehold.co/3600x2400/CD2A3E/FFFFFF.png 3600w, https://placehold.co/2400x1600/CD2A3E/FFFFFF.png 2400w, https://placehold.co/1500x1000/CD2A3E/FFFFFF.png 1500w, https://placehold.co/1200x800/CD2A3E/FFFFFF.png 1200w, https://placehold.co/900x600/CD2A3E/FFFFFF.png 900w, https://placehold.co/600x400/CD2A3E/FFFFFF.png 600w, https://placehold.co/300x200/CD2A3E/FFFFFF.png 300w" />
        </boxsharp-link>
    </div>

    <h3>Display a navigable gallery</h3>

    <p>This example uses the classic syntax with the <code>rel</code> attribute and shows how several related images can be grouped into a single collection.
    </p>

    <div class="example">
        <a rel="boxsharp-flag"
            data-srcset="https://placehold.co/3600x2400/CD2A3E/FFFFFF.png 3600w, https://placehold.co/2400x1600/CD2A3E/FFFFFF.png 2400w, https://placehold.co/1500x1000/CD2A3E/FFFFFF.png 1500w, https://placehold.co/1200x800/CD2A3E/FFFFFF.png 1200w, https://placehold.co/900x600/CD2A3E/FFFFFF.png 900w, https://placehold.co/600x400/CD2A3E/FFFFFF.png 600w, https://placehold.co/300x200/CD2A3E/FFFFFF.png 300w">
            <img src="https://placehold.co/300x200/CD2A3E/FFFFFF.png" width="75" height="50" alt="A red image" /></a>
        <a rel="boxsharp-flag"
            data-srcset="https://placehold.co/3600x2400/FFFFFF/CCCCCC.png 3600w, https://placehold.co/2400x1600/FFFFFF/CCCCCC.png 2400w, https://placehold.co/1500x1000/FFFFFF/CCCCCC.png 1500w, https://placehold.co/1200x800/FFFFFF/CCCCCC.png 1200w, https://placehold.co/900x600/FFFFFF/CCCCCC.png 900w, https://placehold.co/600x400/FFFFFF/CCCCCC.png 600w, https://placehold.co/300x200/FFFFFF/CCCCCC.png 300w">
            <img src="https://placehold.co/300x200/FFFFFF/CCCCCC.png" width="75" height="50" alt="A white image" /></a>
        <a rel="boxsharp-flag"
            data-srcset="https://placehold.co/3600x2400/436F4D/FFFFFF.png 3600w, https://placehold.co/2400x1600/436F4D/FFFFFF.png 2400w, https://placehold.co/1500x1000/436F4D/FFFFFF.png 1500w, https://placehold.co/1200x800/436F4D/FFFFFF.png 1200w, https://placehold.co/900x600/436F4D/FFFFFF.png 900w, https://placehold.co/600x400/436F4D/FFFFFF.png 600w, https://placehold.co/300x200/436F4D/FFFFFF.png 300w">
            <img src="https://placehold.co/300x200/436F4D/FFFFFF.png" width="75" height="50" alt="A green image" /></a>
    </div>

    <h3>Figures</h3>

    <p>The example below shows how to use the web component syntax with a <code>&lt;figure&gt;</code> element.</p>

    <div class="example">
        <boxsharp-link>
            <figure>
                <img alt="A placeholder image" src="https://placehold.co/300x200.png" width="300" height="200" sizes="300px"
                    srcset="https://placehold.co/3600x2400.png 3600w, https://placehold.co/2400x1600.png 2400w, https://placehold.co/1500x1000.png 1500w, https://placehold.co/1200x800.png 1200w, https://placehold.co/900x600.png 900w, https://placehold.co/600x400.png 600w, https://placehold.co/300x200.png 300w" />
                <figcaption>Observe how the image source changes dynamically in response to window size changes. When the window size is small, a low-resolution
                    image is chosen. The larger the window size, the higher the resolution of the image selected. Photo by <a
                        href="https://hunyadi.info.hu/levente/" target="_blank">Levente Hunyadi</a>.</figcaption>
            </figure>
        </boxsharp-link>
    </div>

    <p>The following example shows how to use an <code>&lt;a&gt;</code> element with a <code>rel</code> attribute in a <code>&lt;figure&gt;</code> element. The
        figure caption contains a link. We cannot wrap the entire <code>&lt;figure&gt;</code> in an <code>&lt;a&gt;</code> element because
        <code>&lt;a&gt;</code> elements cannot nest.
    </p>

    <div class="example">
        <figure>
            <a rel="boxsharp"
                data-srcset="https://placehold.co/3600x2400.png 3600w, https://placehold.co/2400x1600.png 2400w, https://placehold.co/1500x1000.png 1500w, https://placehold.co/1200x800.png 1200w, https://placehold.co/900x600.png 900w, https://placehold.co/600x400.png 600w, https://placehold.co/300x200.png 300w">
                <img src="https://placehold.co/300x200.png" alt="A placeholder image" /></a>
            <figcaption>Photo by <a href="https://hunyadi.info.hu/levente/" target="_blank">Levente Hunyadi</a>.</figcaption>
        </figure>
    </div>

    <h3>Link with text</h3>

    <p>The examples below constitute a single navigable gallery. The image to show in the pop-up window is extracted either from the <code>href</code> or the
        <code>data-srcset</code> attribute.
    </p>

    <ul>
        <li><a href="https://placehold.co/300x200.png" rel="boxsharp-link"
                data-srcset="https://placehold.co/1500x1000.png 1500w, https://placehold.co/1200x800.png 1200w, https://placehold.co/900x600.png 900w, https://placehold.co/600x400.png 600w, https://placehold.co/300x200.png 300w">Link</a>
            with <code>href</code> and <code>data-srcset</code> attributes. The image resolution is adaptively chosen
            based on browser window size.</li>
        <li>
            <a href="https://placehold.co/300x200.png" rel="boxsharp-link">Link</a> with an <code>href</code> but no
            <code>data-srcset</code> attribute. There is a single resolution available, no matter the window size.
        </li>
        <li>
            <a rel="boxsharp-link" class="hyperlink"
                data-srcset="https://placehold.co/900x600.png 900w, https://placehold.co/600x400.png 600w, https://placehold.co/300x200.png 300w">Link</a>
            with a <code>data-srcset</code> but no <code>href</code> attribute. The image resolution is selected adaptively.
        </li>
    </ul>

    <h3>Display a video</h3>

    <p>The following example uses <code>&lt;boxsharp-link&gt;</code> to wrap a <code>&lt;video&gt;</code> element. Information encapsulated in the
        <code>&lt;source&gt;</code> elements is propagated to the pop-up window.
    </p>

    <div class="example">
        <boxsharp-link>
            <figure>
                <figcaption style="display: none;">
                    <a href="https://www.bigbuckbunny.org">Big Buck Bunny</a> tells the story of a giant rabbit with a heart bigger than himself. When one sunny
                    day three rodents rudely harass him, something snaps... and the rabbit ain't no bunny anymore! In the typical cartoon tradition he prepares
                    the nasty rodents a comical revenge. <span style="font-size: smaller;">Licensed under the Creative Commons Attribution license.</span>
                </figcaption>
                <video poster="https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/images/BigBuckBunny.jpg">
                    <source src="https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4" type="video/mp4" />
                </video>
            </figure>
        </boxsharp-link>
    </div>

    <div class="example">
        <boxsharp-link href="https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4">
            <span class="hyperlink">Big Buck Bunny</span>
        </boxsharp-link>
    </div>

    <h3>Display a video from YouTube</h3>

    <ol>
        <li>Click the button <em>Share</em> below the video.</li>
        <li>Choose <em>Embed</em>.</li>
        <li>Locate attributes <code>width</code>, <code>height</code> and <code>src</code> in the <code>&lt;iframe&gt;</code> content.</li>
        <li>Create a <code>&lt;boxsharp-link&gt;</code> with attributes <code>width</code>, <code>height</code> and <code>href</code>.</li>
    </ol>

    <div class="example">
        <boxsharp-link width="560" height="315" href="https://www.youtube.com/embed/CKclyyL6Uzw?si=TmUtXqDBeeQDVRw6">
            <span
                style="display: inline-block; border-radius: 25px; background-color: red; color: white; width: 100px; height: 75px; font-size: 45px; line-height: 75px; text-align: center; cursor: pointer;">▶</span>
        </boxsharp-link>
    </div>

    <h3>Location on Maps</h3>

    <ol>
        <li>Click the button <em>Share</em>.</li>
        <li>Choose <em>Embed a map</em>.</li>
        <li>Locate attribute <code>src</code> in the <code>&lt;iframe&gt;</code> content.</li>
        <li>Create a <code>&lt;boxsharp-link&gt;</code> with attributes <code>width</code>, <code>height</code> and <code>href</code>.</li>
    </ol>

    <div class="example">
        <boxsharp-link width="600" height="600"
            href="https://maps.google.com/maps?q=Budapest+University+of+Technology+and+Economics&amp;hl=en&amp;ie=UTF8&amp;ll=47.481307,19.056215&amp;spn=0.01005,0.022724&amp;sll=37.0625,-95.677068&amp;sspn=47.885545,93.076172&amp;vpsrc=6&amp;t=m&amp;z=16&amp;output=embed">
            <span style="font-size: 75px; cursor: pointer;">🗺️</span>
        </boxsharp-link>
    </div>

    <h3>Display external content</h3>

    <p>The example below points to an external website. When the pop-up window opens, the content is visualized in <code>&lt;iframe&gt;</code> element. We use
        attributes <code>width</code> and <code>height</code> because <code>&lt;iframe&gt;</code> doesn't have intrinsic dimensions.</p>

    <div class="example">
        <boxsharp-link width="800" height="600" href="https://www.wikipedia.org/">
            <img src="https://upload.wikimedia.org/wikipedia/en/8/80/Wikipedia-logo-v2.svg">
        </boxsharp-link>
    </div>

    <h3>PDF</h3>

    <p>Notice how the following link to a PDF document contains <a href="https://www.rfc-editor.org/rfc/rfc3778#section-3">parameters how to show the PDF</a>,
        which is passed in the URL fragment.</p>

    <div class="example">
        <boxsharp-link width="800" height="600"
            href="https://opensource.adobe.com/dc-acrobat-sdk-docs/pdfstandards/PDF32000_2008.pdf#page=2&pagemode=none&view=FitH">
            <span class="hyperlink">PDF</span>
        </boxsharp-link>
    </div>

    <h3>Unavailable resource</h3>

    <p>
        <boxsharp-link href="https://google.com/image.jpeg">
            <span class="hyperlink">Image</span>
        </boxsharp-link>
        |
        <boxsharp-link href="https://google.com/video.mpeg">
            <span class="hyperlink">Video</span>
        </boxsharp-link>
        |
        <boxsharp-link href="https://google.com/404.html">
            <span class="hyperlink">Frame</span>
        </boxsharp-link>
    </p>
</body>

</html>
